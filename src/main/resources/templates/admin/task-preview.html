<style>

  .main-task-content {
    display: flex;
    flex: 1;
    min-height: 0;
    max-height: 91vh;
    gap: 0; /* Removed gap to make it cleaner */
  }

  .editor-section {
    flex: 1;
    background: #272822;
    position: relative;
    border-radius: 0; /* Removed border radius */
    overflow: hidden;
  }

  #editor {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    font-size: 14px;
  }

  .task-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #fff;
    box-shadow: -4px 0 6px rgba(44,24,16,0.1);
  }

  .tabs {
    display: flex;
    background: #f8f9fa;
    padding: 0 1rem;
    gap: 0.5rem;
    border-bottom: 1px solid #dee2e6;
  }

  .tab {
    padding: 1rem 2rem;
    cursor: pointer;
    border: none;
    background: none;
    font-weight: 500;
    color: #495057;
    position: relative;
    transition: all 0.3s;
    border-radius: 0.8rem 0.8rem 0 0;
  }

  .tab:hover {
    background: #fff5eb;
  }

  .tab.active {
    color: #2c1810;
    background: #fff5eb;
  }

  .tab.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: #E6AA68;
    border-radius: 3px 3px 0 0;
  }

  .tab-content {
    flex: 1;
    padding: 2rem;
    overflow-y: auto;
    background: #fff5eb;
  }

  .tab-pane {
    display: none;
  }

  .tab-pane.active {
    display: block;
  }

  .sample-case {
    background: #fff;
    border-radius: 0.8rem;
    padding: 1.5rem;
    margin: 1rem 0;
    box-shadow: 0 2px 4px rgba(44,24,16,0.05);
  }

  .run-button {
    position: absolute;
    right: 1rem;
    top: 1rem;
    padding: 0.5rem 1.2rem;
    background: #E6AA68;
    color: #2c1810;
    border: none;
    border-radius: 0.4rem;
    cursor: pointer;
    font-weight: 600;
    z-index: 10;
    transition: all 0.2s ease;
  }

  .run-button:hover {
    background: #d99b59;
  }

  /* Task content styles */
  h1 {
    color: #2c1810;
    margin-bottom: 1.5rem;
    font-size: 2rem;
  }

  .task-info {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    color: #666;
    background: #fff;
    padding: 1rem 1.5rem;
    border-radius: 0.8rem;
    box-shadow: 0 2px 4px rgba(44,24,16,0.05);
  }

  .task-section h3 {
    color: #2c1810;
    margin: 2rem 0 1rem;
    font-size: 1.2rem;
  }

  .forum-post {
    background: #fff;
    border-radius: 0.8rem;
    padding: 1.5rem;
    margin-bottom: 1rem;
    box-shadow: 0 2px 4px rgba(44,24,16,0.05);
  }

  .post-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.8rem;
    color: #666;
    font-size: 0.9rem;
  }

  .editorial-content {
    line-height: 1.6;
    background: #fff;
    padding: 1.5rem;
    border-radius: 0.8rem;
    box-shadow: 0 2px 4px rgba(44,24,16,0.05);
  }

  code {
    background: #fff;
    padding: 0.2rem 0.4rem;
    border-radius: 0.4rem;
    font-family: monospace;
    color: #2c1810;
  }

  pre {
    background: #fff;
    padding: 1rem;
    border-radius: 0.4rem;
    margin: 0.5rem 0;
    font-family: monospace;
  }


  @keyframes float {
    0% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-5px) rotate(2deg); }
    100% { transform: translateY(0px) rotate(0deg); }
  }
</style>

<div class="main-task-content">
  <div class="editor-section">
    <button class="run-button">–ü—Ä–æ–≤–µ—Ä–∏ ‚èµ</button>
    <div id="editor"></div>
  </div>
  <div class="task-section">
    <div class="tabs">
      <button class="tab active" onclick="switchTab('task')">–ó–∞–¥–∞—á–∞</button>
      <button class="tab" onclick="switchTab('forum')">–§–æ—Ä—É–º</button>
      <button class="tab" onclick="switchTab('editorial')">–†–µ—à–µ–Ω–∏–µ</button>
    </div>
    <div th:object="${task}" class="tab-content">
      <div id="task" class="tab-pane active">
        <h1 th:text="*{title}">Task Title</h1>
        <div class="task-info">
          <span>‚è±Ô∏è –í—Ä–µ–º–µ–Ω—Å–∫–æ –æ–≥—Ä–∞–Ω–∏—á—É–≤–∞—ö–µ: <span th:text="*{timeLimit}"></span> ms</span>
          <span>üíæ –ú–µ–º–æ—Ä–∏—Å–∫–æ –æ–≥—Ä–∞–Ω–∏—á—É–≤–∞—ö–µ: <span th:text="*{memoryLimit}"></span> MB</span>
        </div>
        <div th:utext="*{text}"></div>

        <h3>–í–ª–µ–∑</h3>
        <div th:utext="*{inputFormat}"></div>

        <h3>–ò–∑–ª–µ–∑</h3>
        <div th:utext="*{outputFormat}"></div>

        <h3>–ü—Ä–∏–º–µ—Ä–∏</h3>
        <div class="sample-case">
          <strong>–í–ª–µ–∑:</strong>
          <pre>3 5</pre>
          <strong>–ò–∑–ª–µ–∑:</strong>
          <pre>8</pre>
        </div>
      </div>
      <div id="forum" class="tab-pane">
        <div class="forum-post">
          <div class="post-header">
            <span>–ü–µ—Ç–∞—Ä –ü–µ—Ç—Ä–æ–≤—Å–∫–∏</span>
            <span>–ø—Ä–µ–¥ 2 –¥–µ–Ω–∞</span>
          </div>
          <p>–î–∞–ª–∏ –º–æ–∂–µ –¥–∞ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞ algorithm?</p>
        </div>
        <div class="forum-post">
          <div class="post-header">
            <span>–ê–Ω–∞ –ê–Ω–≥–µ–ª–æ–≤–∞</span>
            <span>–ø—Ä–µ–¥ 1 –¥–µ–Ω</span>
          </div>
          <p>–î–∞, –º–æ–∂–µ –¥–∞ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ algorithm –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ç–∞.</p>
        </div>
      </div>
      <div id="editorial" class="tab-pane">
        <div class="editorial-content">
          <h2>–†–µ—à–µ–Ω–∏–µ</h2>
          <p>–ó–∞ –¥–∞ –≥–æ —Ä–µ—à–∏–º–µ –æ–≤–æ—ò –ø—Ä–æ–±–ª–µ–º, –ø–æ—Ç—Ä–µ–±–Ω–æ –µ –¥–∞:</p>
          <ol>
            <li>–ü—Ä–æ—á–∏—Ç–∞–º–µ –¥–≤–∞ –±—Ä–æ—ò–∞ –æ–¥ –≤–ª–µ–∑</li>
            <li>–ì–∏ —Å–æ–±–µ—Ä–µ–º–µ –±—Ä–æ–µ–≤–∏—Ç–µ</li>
            <li>–ì–æ –∏—Å–ø–µ—á–∞—Ç–∏–º–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–æ—Ç</li>
          </ol>
          <p>–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ—Å—Ç: O(1)</p>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.6/ace.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.6/theme-monokai.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.6/mode-c_cpp.min.js"></script>
<script>
  // Initialize ACE Editor
  var editor = ace.edit("editor");
  editor.setTheme("ace/theme/monokai");
  editor.session.setMode("ace/mode/c_cpp");
  editor.setShowPrintMargin(false);

  function switchTab(tabId) {
    document.querySelectorAll('.tab').forEach(tab => {
      tab.classList.remove('active');
    });
    event.currentTarget.classList.add('active');

    document.querySelectorAll('.tab-pane').forEach(pane => {
      pane.classList.remove('active');
    });
    document.getElementById(tabId).classList.add('active');
  }
</script>
